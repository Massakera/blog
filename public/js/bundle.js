(()=>{"use strict";var n=function(){function n(){this.storageKey="blog-theme-preference",this.defaultTheme="dark";var n=localStorage.getItem(this.storageKey);this.currentTheme=n||this.defaultTheme}return n.prototype.init=function(){var n=this;this.applyTheme(this.currentTheme);var t=document.getElementById("theme-toggle");t&&t.addEventListener("click",(function(){return n.toggleTheme()})),this.updateToggleButton()},n.prototype.applyTheme=function(n){document.documentElement.setAttribute("data-theme",n),this.currentTheme=n,localStorage.setItem(this.storageKey,n)},n.prototype.toggleTheme=function(){var n="dark"===this.currentTheme?"light":"dark";this.applyTheme(n),this.updateToggleButton()},n.prototype.updateToggleButton=function(){var n=document.getElementById("theme-toggle");n&&(n.textContent="dark"===this.currentTheme?"‚òÄÔ∏è Light Mode":"üåô Dark Mode")},n}(),t=function(){function n(){this.duration=500}return n.prototype.init=function(){var n=this;document.querySelectorAll('a[href^="#"]').forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault();var o=t.getAttribute("href")||"",i=document.querySelector(o);i&&n.scrollTo(i)}))}))},n.prototype.scrollTo=function(n){var t=this,e=window.scrollY,o=n.getBoundingClientRect().top+window.scrollY-e,i=null,a=function(n){null===i&&(i=n);var s=n-i,r=Math.min(s/t.duration,1),c=t.easeInOutCubic(r);window.scrollTo(0,e+o*c),s<t.duration&&requestAnimationFrame(a)};requestAnimationFrame(a)},n.prototype.easeInOutCubic=function(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2},n}(),e=function(){function n(){this.defaultOptions={selector:".animate-on-scroll",threshold:.1,rootMargin:"0px",animationClass:"visible"}}return n.prototype.init=function(){this.setupScrollAnimations(this.defaultOptions),this.animateHeaderText()},n.prototype.setupScrollAnimations=function(n){var t=document.querySelectorAll(n.selector);if(0!==t.length){var e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&t.target.classList.add(n.animationClass)}))}),{threshold:n.threshold,rootMargin:n.rootMargin});t.forEach((function(n){return e.observe(n)}))}},n.prototype.animateHeaderText=function(){var n=document.querySelector(".site-name");if(n){var t=n.textContent||"";n.textContent="";var e=0,o=function(){e<t.length&&(n.textContent+=t.charAt(e),e++,setTimeout(o,100))};setTimeout(o,500)}},n}(),o=function(){function n(){var n=this;this.SCROLL_AMOUNT=100,this.linkHintsActive=!1,this.postLinks=[],this.linkHintsMap=new Map,this.handleKeyUp=function(t){"?"===t.key&&n.hideHelpModal()}}return n.prototype.init=function(){document.addEventListener("keydown",this.handleKeyPress.bind(this)),document.addEventListener("keyup",this.handleKeyUp),this.addKeyboardShortcutsInfo(),this.addKeyboardHint()},n.prototype.handleKeyPress=function(n){if(!this.isUserTyping())if(this.linkHintsActive)if(/^[0-9]$/.test(n.key)){var t=this.linkHintsMap.get(n.key);t&&(t.click(),this.deactivateLinkHints(),n.preventDefault())}else"Escape"===n.key&&(this.deactivateLinkHints(),n.preventDefault());else switch(n.key){case"j":this.scrollVertically(this.SCROLL_AMOUNT);break;case"k":this.scrollVertically(-this.SCROLL_AMOUNT);break;case"h":this.navigatePrevious();break;case"l":this.navigateNext();break;case"g":window.scrollTo({top:0,behavior:"smooth"});break;case"G":window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});break;case"t":this.activateNavLink(0);break;case"T":var e=this.getNavLinks();this.activateNavLink(e.length-1);break;case"f":this.activateLinkHints(),n.preventDefault();break;case"a":this.navigateToPath("/about/"),n.preventDefault();break;case"p":this.navigateToPath("/posts/"),n.preventDefault();break;case"H":this.navigateToPath("/"),n.preventDefault();break;case"?":this.showHelpModal()}},n.prototype.scrollVertically=function(n){window.scrollBy({top:n,behavior:"smooth"})},n.prototype.navigatePrevious=function(){var n=document.querySelector(".prev-post");n&&n.click()},n.prototype.navigateNext=function(){var n=document.querySelector(".next-post");n&&n.click()},n.prototype.activateNavLink=function(n){var t=this.getNavLinks();t.length>n&&t[n].click()},n.prototype.getNavLinks=function(){return Array.from(document.querySelectorAll(".terminal-menu a"))},n.prototype.isUserTyping=function(){var n=document.activeElement;return n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement||(null==n?void 0:n.hasAttribute("contenteditable"))||!1},n.prototype.addKeyboardShortcutsInfo=function(){var n,t=this,e=document.createElement("div");e.id="keyboard-shortcuts-modal",e.className="help-modal",e.style.display="none",e.innerHTML='\n      <div class="help-modal-content">\n        <h2>Keyboard Shortcuts</h2>\n        <div class="shortcuts-grid">\n          <div class="shortcut">\n            <span class="key">j</span>\n            <span class="description">Scroll down</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">k</span>\n            <span class="description">Scroll up</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">h</span>\n            <span class="description">Previous page</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">l</span>\n            <span class="description">Next page</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">g</span>\n            <span class="description">Go to top</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">G</span>\n            <span class="description">Go to bottom</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">f</span>\n            <span class="description">Show link numbers</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">a</span>\n            <span class="description">Go to About</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">p</span>\n            <span class="description">Go to Posts</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">H</span>\n            <span class="description">Go to Home</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">t</span>\n            <span class="description">First tab</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">T</span>\n            <span class="description">Last tab</span>\n          </div>\n          <div class="shortcut">\n            <span class="key">?</span>\n            <span class="description">Hold to see this help</span>\n          </div>\n        </div>\n        <button id="close-help-modal">Close</button>\n      </div>\n    ',document.body.appendChild(e),null===(n=document.getElementById("close-help-modal"))||void 0===n||n.addEventListener("click",(function(){t.hideHelpModal()})),e.addEventListener("click",(function(n){n.target===e&&t.hideHelpModal()}));var o=document.createElement("style");o.textContent="\n      #keyboard-shortcuts {\n        background: transparent;\n        border: 1px solid var(--border-color);\n        color: var(--text-color);\n        border-radius: 50%;\n        width: 24px;\n        height: 24px;\n        font-size: 14px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0;\n        margin-left: 10px;\n      }\n      \n      #keyboard-shortcuts:hover {\n        background-color: var(--border-color);\n      }\n      \n      .help-modal {\n        display: none;\n        position: fixed;\n        z-index: 1000;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        overflow: auto;\n      }\n      \n      .help-modal-content {\n        background-color: var(--bg-color);\n        margin: 10% auto;\n        padding: 20px;\n        border: 1px solid var(--border-color);\n        width: 80%;\n        max-width: 600px;\n        border-radius: 5px;\n      }\n      \n      .shortcuts-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n        gap: 10px;\n        margin: 20px 0;\n      }\n      \n      .shortcut {\n        display: flex;\n        align-items: center;\n      }\n      \n      .key {\n        background-color: var(--code-bg);\n        padding: 5px 10px;\n        border-radius: 3px;\n        margin-right: 10px;\n        font-family: var(--mono-font);\n        font-weight: bold;\n        min-width: 20px;\n        text-align: center;\n      }\n      \n      #close-help-modal {\n        background-color: var(--accent-color);\n        color: var(--bg-color);\n        border: none;\n        padding: 8px 16px;\n        font-family: var(--mono-font);\n        cursor: pointer;\n        border-radius: 3px;\n      }\n      \n      #close-help-modal:hover {\n        opacity: 0.9;\n      }\n    ",document.head.appendChild(o)},n.prototype.showHelpModal=function(){var n=document.getElementById("keyboard-shortcuts-modal");n&&(n.style.display="block")},n.prototype.hideHelpModal=function(){var n=document.getElementById("keyboard-shortcuts-modal");n&&(n.style.display="none")},n.prototype.navigateToPath=function(n){var t=window.location.origin;window.location.href=t+n},n.prototype.activateLinkHints=function(){if(this.postLinks=Array.from(document.querySelectorAll(".post-link")),0!==this.postLinks.length){this.linkHintsActive=!0,this.linkHintsMap.clear();var n=document.createElement("div");n.id="link-hints-overlay",n.className="link-hints-overlay",document.body.appendChild(n);for(var t=Math.min(this.postLinks.length,9),e=0;e<t;e++){var o=this.postLinks[e],i=(e+1).toString(),a=document.createElement("span");a.className="link-hint",a.textContent=i;var s=o.getBoundingClientRect();a.style.top="".concat(window.scrollY+s.top-10,"px"),a.style.left="".concat(window.scrollX+s.left-10,"px"),document.body.appendChild(a),this.linkHintsMap.set(i,o)}if(!document.getElementById("link-hints-style")){var r=document.createElement("style");r.id="link-hints-style",r.textContent="\n        .link-hints-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.3);\n          z-index: 9000;\n        }\n        \n        .link-hint {\n          position: absolute;\n          background-color: var(--accent-color);\n          color: var(--bg-color);\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          font-size: 12px;\n          font-weight: bold;\n          font-family: var(--mono-font);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 9001;\n          box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);\n        }\n      ",document.head.appendChild(r)}}},n.prototype.deactivateLinkHints=function(){this.linkHintsActive=!1;var n=document.getElementById("link-hints-overlay");n&&n.remove(),document.querySelectorAll(".link-hint").forEach((function(n){n.remove()}))},n.prototype.addKeyboardHint=function(){var n=this,t=document.createElement("div");t.id="keyboard-hint",t.className="keyboard-hint",t.innerHTML='<span class="key-icon">?</span> <span class="hint-text">Hold for shortcuts</span>',document.body.appendChild(t);var e=document.createElement("style");e.textContent="\n      .keyboard-hint {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        background-color: var(--bg-color);\n        border: 1px solid var(--border-color);\n        border-radius: 5px;\n        padding: 8px 12px;\n        font-family: var(--mono-font);\n        font-size: 14px;\n        display: flex;\n        align-items: center;\n        opacity: 0.8;\n        z-index: 100;\n        transition: opacity 0.3s ease;\n      }\n      \n      .keyboard-hint:hover {\n        opacity: 1;\n      }\n      \n      .key-icon {\n        display: inline-block;\n        background-color: var(--code-bg);\n        padding: 2px 6px;\n        border-radius: 3px;\n        margin-right: 8px;\n        font-weight: bold;\n      }\n      \n      .hint-text {\n        display: inline-block;\n      }\n      \n      @media (max-width: 768px) {\n        .keyboard-hint {\n          display: none;\n        }\n      }\n      \n      /* First-time visitor notice */\n      .onboarding-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        z-index: 2000;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        opacity: 0;\n        transition: opacity 0.5s ease;\n      }\n      \n      .onboarding-card {\n        background-color: var(--bg-color);\n        border-radius: 8px;\n        padding: 24px;\n        max-width: 500px;\n        box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);\n        text-align: center;\n      }\n      \n      .onboarding-title {\n        font-size: 1.5rem;\n        margin-bottom: 16px;\n        border-bottom: none;\n      }\n      \n      .key-highlight {\n        animation: pulse 2s infinite;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        background-color: var(--code-bg);\n        color: var(--accent-color);\n        font-family: var(--mono-font);\n        font-weight: bold;\n        width: 40px;\n        height: 40px;\n        border-radius: 5px;\n        margin: 20px auto;\n        font-size: 24px;\n      }\n      \n      @keyframes pulse {\n        0% {\n          transform: scale(1);\n          box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\n        }\n        \n        70% {\n          transform: scale(1.1);\n          box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);\n        }\n        \n        100% {\n          transform: scale(1);\n          box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n        }\n      }\n      \n      .onboarding-text {\n        margin-bottom: 20px;\n        line-height: 1.6;\n      }\n      \n      .onboarding-buttons {\n        display: flex;\n        justify-content: center;\n        gap: 10px;\n      }\n      \n      .onboarding-button {\n        padding: 8px 16px;\n        border-radius: 4px;\n        cursor: pointer;\n        font-family: var(--mono-font);\n        border: none;\n      }\n      \n      .onboarding-primary {\n        background-color: var(--accent-color);\n        color: var(--bg-color);\n      }\n      \n      .onboarding-secondary {\n        background-color: transparent;\n        border: 1px solid var(--border-color);\n        color: var(--text-color);\n      }\n    ",document.head.appendChild(e),setTimeout((function(){t.style.opacity="0.4"}),5e3),t.addEventListener("mouseenter",(function(){t.style.opacity="1"})),t.addEventListener("mouseleave",(function(){t.style.opacity="0.4"})),t.addEventListener("click",(function(){n.showHelpModal()}))},n.prototype.showFirstTimeNotice=function(){var n,t,e=this;if("true"!==localStorage.getItem("keyboard-nav-onboarding")){var o=document.createElement("div");o.className="onboarding-overlay";var i=document.createElement("div");i.className="onboarding-card",i.innerHTML='\n      <h2 class="onboarding-title">This blog has keyboard shortcuts!</h2>\n      <div class="key-highlight">?</div>\n      <p class="onboarding-text">\n        Hold the <strong>?</strong> key anytime to see available shortcuts.<br/>\n        Navigate using Vim-like keys - no clicking required.\n      </p>\n      <div class="onboarding-buttons">\n        <button class="onboarding-button onboarding-primary" id="try-shortcuts">Try it now</button>\n        <button class="onboarding-button onboarding-secondary" id="dismiss-onboarding">Got it</button>\n      </div>\n    ',o.appendChild(i),document.body.appendChild(o),setTimeout((function(){o.style.opacity="1"}),500),null===(n=document.getElementById("try-shortcuts"))||void 0===n||n.addEventListener("click",(function(){e.dismissOnboarding(o),e.showHelpModal()})),null===(t=document.getElementById("dismiss-onboarding"))||void 0===t||t.addEventListener("click",(function(){e.dismissOnboarding(o)})),document.addEventListener("keydown",(function(n){"Escape"===n.key&&o.parentNode&&e.dismissOnboarding(o)}))}},n.prototype.dismissOnboarding=function(n){n.style.opacity="0",setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n)}),500),localStorage.setItem("keyboard-nav-onboarding","true")},n}();(new n).init(),(new t).init(),(new e).init(),(new o).init()})();